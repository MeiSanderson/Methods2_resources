---
title: "Class 4 solutions"
author: "Pernille Brams"
date: "22/2/2024"
output:
  html_document:
    toc: true  
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r libs}
library(pacman)

pacman::p_load(tidyverse,
               ggpubr,
               rstanarm)

```

# By hand or Latex syntax in a .Rmd file
Most of these exercises are easiest solved by hand. However, if you want to write math notation in an R-markdown Latex-syntax can be used. Below are some examples of how latex is used to write math equations. Remember to surround your equation by either $ $ or $$ $$.

Example: 
$\frac{5}{10}$

$$
x^{\frac{a}{b}}=\left(x^a\right)^{\frac{1}{b}}=\left(x^{\frac{1}{b}}\right)^a=\sqrt[b]{x^a}
$$
# Exercises
[Uploading solutions in hand]
In the GILL book (in this order):
1.1
1.2
1.3
1.15
1.4
The rest from the lecture's last slide.

# Extra about Bayesian, if you finish early (extra = optional!)
## Ex. 1: Load rstanarm()
```{r libs}
library(pacman)

pacman::p_load(rstanarm)

```

## Ex. 2: Simulate data for a simple linear regression model, y = b0 + b1*x+e, where x is a predictor variable, y is the outcome, and e is the normally distributed error.
```{r ex2}

set.seed(123) # for reproducibility

b1 = 23
b0 = 10

n = 1000

error = rnorm(n, mean = 0, sd = 3)

x = seq(0, n, length.out = 1)
x = rnorm(n)

y = b0 + b1 * x + error


myLinearReg = data.frame(x = x, y = y)

plot(myLinearReg)



```




## Ex. 3: Fit a Bayesian linear regression model using stan_glm from the rstanarm package with default priors.
```{r ex3}

formula = y ~ b0 + b1 * x + error # from before, exp. 2


stan_glm(y ~ x, data = myLinearReg , prior = default_prior_coef(family))

```




## Ex. 4: Explain in a few sentences what a prior is (this is difficult stuff, so light level here is totally fine)
```{r ex4}

# prior is the information we can give which says something about our data without actually being part of it

```




## Ex. 5: Refit model using different priors for b0 and b1.
```{r ex5}

b1 = 43
b0 = 5


formula = y ~ b0 + b1 * x + error # from before, exp. 2


stan_glm(y ~ x, data = myLinearReg, family = gaussian() , prior = default_prior_coef(family))

```
